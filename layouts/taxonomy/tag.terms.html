{{ partial "head.html" . }}
  <body>
    <div id="blog">
      {{ partial "header.html" . }}
      {{ partial "sidebar.html" . }}
      {{ partial "post/header-cover.html" . }}
      
      <div id="main" data-behavior="{{ .Scratch.Get "sidebarBehavior" }}"
        class="{{ with .Params.coverImage }}hasCover{{ end }}
               {{ if eq .Params.coverMeta "out" }}hasCoverMetaOut{{ else }}hasCoverMetaIn{{ end }}
               {{ with .Params.coverCaption }}hasCoverCaption{{ end }}">
        
        <section class="main-content-wrap glass-portfolio">
          <div class="portfolio-content">
            <h2 class="category-title">{{ i18n "taxonomy.skill_dashboard" | upper }}</h2>
            
            {{/* Logic to separate Top Tags vs Others */}}
            {{ $allTags := .Data.Terms.ByCount }}
            {{ $topTags := first 8 $allTags }}
            {{ $otherTags := after 8 $allTags }}

            <!-- SECTION 1: Core Competencies -->
            <h3 class="skill-section-title">{{ i18n "taxonomy.core_competencies" }}</h3>
            <div class="cards-container skill-grid-core">
              {{ range $topTags }}
                <a href="{{ .Name | urlize | relURL }}" class="glass-card skill-card-core" style="display: flex;">
                  <div class="skill-header">
                    <span class="skill-name">{{ .Name }}</span>
                    <span class="skill-count-badge">{{ .Count }}</span>
                  </div>
                  <div class="skill-bar-container">
                    {{/* Visual bar representing mastery/frequency, max is first count */}}
                    {{ $max := (index $topTags 0).Count }}
                    {{ $percent := mul (div (float .Count) $max) 100 }}
                    <div class="skill-bar" style="width: {{ $percent }}%;"></div>
                  </div>
                </a>
              {{ end }}
            </div>

            <!-- SECTION 2: The Full Stack -->
            <h3 class="skill-section-title" style="margin-top: 50px;">{{ i18n "taxonomy.full_stack" }}</h3>
            <div class="skill-cloud-container glass-card">
              <div class="tag-cloud">
                {{ range $otherTags }}
                  <a href="{{ .Name | urlize | relURL }}" class="tag-pill-cloud" style="font-size: 1rem;">
                    {{ .Name }} <span class="tag-count-small">({{ .Count }})</span>
                  </a>
                {{ end }}
              </div>
            </div>

          </div>
        </section>

        {{ partial "footer.html" . }}
      </div>
    </div>
    {{ partial "foot.html" . }}
